<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leonardo Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css?v=1770318455">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: { DEFAULT: '#2563eb', hover: '#1d4ed8' },
                        accent: '#f59e0b',
                        surface: { DEFAULT: '#1e293b', light: '#334155' },
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.2s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-900 text-white font-sans">
    <div id="app" class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-slate-800 border-r border-slate-700 flex flex-col shrink-0">
            <div class="p-4 border-b border-slate-700">
                <h1 class="text-xl font-bold text-primary flex items-center gap-2">
                    <span class="text-2xl">üéØ</span>
                    <span>Leonardo</span>
                </h1>
            </div>

            <nav class="flex-1 p-3 space-y-1 overflow-y-auto">
                <!-- Main Workflow -->
                <button onclick="showView('dashboard')" data-view="dashboard" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üè†</span> <span>Dashboard</span>
                </button>
                <button onclick="showView('chat')" data-view="chat" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üí¨</span> <span>Chat</span>
                </button>
                <button onclick="showView('action-items')" data-view="action-items" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üìã</span> <span>Action Items</span>
                </button>
                <button onclick="showView('saas-apps')" data-view="saas-apps" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üöÄ</span> <span>SaaS Apps</span>
                </button>
                <button onclick="showView('gmail')" data-view="gmail" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üìß</span> <span>Gmail</span>
                </button>
                <button onclick="showView('files')" data-view="files" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üìÅ</span> <span>Files</span>
                </button>
                <button onclick="showView('video-analyzer')" data-view="video-analyzer" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üìπ</span> <span>Video Analyzer</span>
                </button>
                <button onclick="showView('webinars')" data-view="webinars" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>üé§</span> <span>Webinars</span>
                </button>

                <div class="border-t border-slate-700 my-3"></div>

                <!-- Settings & Admin -->
                <button onclick="showView('settings')" data-view="settings" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700 transition flex items-center gap-3">
                    <span>‚öôÔ∏è</span> <span>Settings</span>
                </button>
            </nav>

            <div class="p-4 border-t border-slate-700">
                <div id="status-indicator" class="flex items-center gap-2 mb-3">
                    <div class="w-2 h-2 bg-yellow-500 rounded-full animate-pulse"></div>
                    <span class="text-sm text-slate-400">Connecting...</span>
                </div>
                <div class="text-xs text-slate-500 mb-2">
                    <span id="username-display" class="text-slate-400">-</span>
                </div>
                <button onclick="logout()" class="text-xs text-red-400 hover:text-red-300 transition">
                    Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col overflow-hidden bg-slate-900">

            <!-- Dashboard View -->
            <div id="dashboard-view" class="view flex-1 flex flex-col overflow-y-auto">
                <div class="p-6 max-w-7xl mx-auto w-full">
                    <!-- Header -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-bold">Welcome back! üëã</h2>
                        <p class="text-slate-400 mt-1">Here's what's happening today</p>
                    </div>

                    <!-- Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                        <div class="stat-card bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-5">
                            <div class="text-blue-200 text-sm font-medium">SaaS Apps</div>
                            <div class="text-3xl font-bold mt-1" id="stat-projects">-</div>
                            <div class="text-blue-200 text-xs mt-2">Products in development</div>
                        </div>
                        <div class="stat-card bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-5">
                            <div class="text-amber-100 text-sm font-medium">Tasks Due</div>
                            <div class="text-3xl font-bold mt-1" id="stat-tasks">-</div>
                            <div class="text-amber-100 text-xs mt-2">Action Items + App Tasks</div>
                        </div>
                        <div class="stat-card bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl p-5">
                            <div class="text-emerald-100 text-sm font-medium">Knowledge Base</div>
                            <div class="text-3xl font-bold mt-1">183K</div>
                            <div class="text-emerald-100 text-xs mt-2">Words of Lean expertise</div>
                        </div>
                    </div>

                    <!-- Morning Briefing Card -->
                    <div class="mb-6 bg-gradient-to-br from-blue-600/20 to-purple-600/20 rounded-xl p-6 border border-blue-500/30">
                        <h3 class="font-semibold flex items-center gap-2 mb-4">
                            <span>üåÖ</span> Morning Briefing
                        </h3>
                        <div id="morning-briefing-content">
                            <div class="text-center text-slate-400 py-4">
                                <div class="animate-pulse">Loading briefing...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Next Meeting Card -->
                    <div class="mb-8 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-6 border border-slate-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-semibold flex items-center gap-2">
                                <span>‚è∞</span> Next Meeting
                            </h3>
                            <button onclick="refreshCalendar()" class="text-xs text-slate-400 hover:text-white transition">
                                üîÑ Refresh
                            </button>
                        </div>
                        <div id="next-meeting-card">
                            <div class="text-center text-slate-500 py-4">Loading...</div>
                        </div>
                    </div>

                    <!-- Two Column Layout -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Today's Focus -->
                        <div class="lg:col-span-2 space-y-6">
                            <div class="bg-slate-800 rounded-xl p-5 border border-slate-700">
                                <h3 class="font-semibold mb-4 flex items-center gap-2">
                                    <span>üéØ</span> Today's Focus
                                </h3>
                                <div id="focus-tasks" class="space-y-2">
                                    <div class="text-slate-500 text-sm">Loading...</div>
                                </div>
                            </div>

                            <!-- Active Projects -->
                            <div class="bg-slate-800 rounded-xl p-5 border border-slate-700">
                                <h3 class="font-semibold mb-4 flex items-center gap-2">
                                    <span>üöÄ</span> Active Projects
                                </h3>
                                <div id="focus-projects" class="space-y-3">
                                    <div class="text-slate-500 text-sm">Loading...</div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Sidebar -->
                        <div class="space-y-6">
                            <!-- Weather Widget -->
                            <div class="bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl p-5 border border-blue-500/30">
                                <h3 class="font-semibold mb-4 flex items-center gap-2">
                                    <span>üå§Ô∏è</span> Weather
                                </h3>
                                <div id="weather-widget">
                                    <div class="text-center text-slate-400 py-2 text-sm">
                                        <div class="animate-pulse">Loading...</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Today's Calendar Events -->
                            <div class="bg-slate-800 rounded-xl p-5 border border-slate-700">
                                <h3 class="font-semibold mb-4 flex items-center gap-2">
                                    <span>üìÖ</span> Today's Schedule
                                </h3>
                                <div id="calendar-today-events" class="space-y-2 max-h-96 overflow-y-auto">
                                    <div class="text-slate-500 text-sm text-center">Loading...</div>
                                </div>
                            </div>

                            <!-- Activity Feed -->
                            <div class="bg-slate-800 rounded-xl p-5 border border-slate-700">
                                <h3 class="font-semibold mb-4 flex items-center gap-2">
                                    <span>üìà</span> Recent Activity
                                </h3>
                                <div id="activity-feed" class="space-y-3 max-h-60 overflow-y-auto">
                                    <div class="text-slate-500 text-sm">Loading...</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions Hub -->
                    <div class="mt-8">
                        <h3 class="font-semibold mb-4 flex items-center gap-2">
                            <span>‚ö°</span> Quick Actions
                        </h3>
                        <div id="quick-actions-hub" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                            <!-- Quick actions will be rendered here -->
                        </div>
                    </div>

                    <!-- Lean Expertise Knowledge Base -->
                    <div class="mt-8 bg-gradient-to-br from-green-600/20 to-emerald-600/20 rounded-xl p-6 border border-green-500/30">
                        <h3 class="font-semibold mb-4 flex items-center gap-2">
                            <span>üìö</span> Lean Expertise Knowledge Base
                        </h3>
                        <p class="text-slate-300 mb-4 text-sm">
                            Comprehensive analysis of Flow Publishing books (183,000 words) with formulas, concepts, and product development insights.
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                            <button onclick="openKnowledgeFile('memory/lean-expertise/README.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üìñ</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Start Here</div>
                                    <div class="text-xs text-slate-400">Navigation guide</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/mixed-model-line-design/summary.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üè≠</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Line Design Summary</div>
                                    <div class="text-xs text-slate-400">Book analysis</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/mixed-model-line-design/key-concepts.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üí°</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Line Design Concepts</div>
                                    <div class="text-xs text-slate-400">Key formulas & methods</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/material-flow/summary.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üöö</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Material Flow Summary</div>
                                    <div class="text-xs text-slate-400">Book analysis</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/material-flow/key-concepts.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üí°</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Material Flow Concepts</div>
                                    <div class="text-xs text-slate-400">PFEP, Kanban, Routes</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/formulas-reference.md')"
                               class="flex items-center gap-3 p-3 bg-slate-800/60 hover:bg-slate-700/60 rounded-lg transition border border-slate-600/50 text-left">
                                <span class="text-2xl">üßÆ</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">All Formulas</div>
                                    <div class="text-xs text-slate-400">30+ with examples</div>
                                </div>
                            </button>
                            <button onclick="openKnowledgeFile('memory/lean-expertise/ezbelta-insights.md')"
                               class="flex items-center gap-3 p-3 bg-gradient-to-br from-amber-600/30 to-orange-600/30 hover:from-amber-600/40 hover:to-orange-600/40 rounded-lg transition border border-amber-500/50 text-left">
                                <span class="text-2xl">üéØ</span>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium text-sm">Product Development Insights</div>
                                    <div class="text-xs text-amber-200">5 products ‚Ä¢ $2M-$23M revenue</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat View -->
            <div id="chat-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üí¨</span> Chat with Leonardo
                    </h2>
                    <div class="flex items-center gap-3">
                        <select 
                            id="voice-select" 
                            onchange="window.speechManager?.setVoice(this.value)"
                            class="text-sm bg-slate-700 hover:bg-slate-600 text-white px-3 py-1.5 rounded-lg transition border-none"
                            title="Select voice for text-to-speech"
                        >
                            <option value="">Loading voices...</option>
                        </select>
                        <button 
                            id="autoplay-btn"
                            onclick="window.speechManager?.toggleAutoPlay()" 
                            class="text-sm bg-slate-700 hover:bg-slate-600 px-3 py-1.5 rounded-lg transition"
                            title="Toggle auto-play of responses"
                        >
                            üîä Auto
                        </button>
                        <div class="border-l border-slate-600 h-6"></div>
                        <button onclick="exportChat()" class="text-sm text-slate-400 hover:text-white transition px-3 py-1.5 rounded-lg hover:bg-slate-700">
                            üì• Export
                        </button>
                        <button onclick="clearChat()" class="text-sm text-slate-400 hover:text-white transition px-3 py-1.5 rounded-lg hover:bg-slate-700">
                            üóëÔ∏è Clear
                        </button>
                        <div class="border-l border-slate-600 h-6"></div>
                        <button onclick="closeChat()" class="text-sm bg-red-600 hover:bg-red-700 px-3 py-1.5 rounded-lg transition font-semibold" title="Close chat">
                            ‚úï Close
                        </button>
                    </div>
                </div>

                <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4"></div>

                <div id="typing-indicator" class="px-4 py-2 text-slate-400 text-sm hidden">
                    <span class="animate-pulse">ü§ñ Leonardo is typing...</span>
                </div>

                <div class="p-4 border-t border-slate-700 bg-slate-800/50">
                    <div id="file-preview" class="hidden mb-3 max-w-4xl mx-auto">
                        <div class="bg-slate-700 rounded-lg p-3 flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">üìé</span>
                                <div>
                                    <div id="file-preview-name" class="font-medium"></div>
                                    <div id="file-preview-size" class="text-xs text-slate-400"></div>
                                </div>
                            </div>
                            <button onclick="clearFileUpload()" class="text-red-400 hover:text-red-300 px-2">‚úï</button>
                        </div>
                    </div>
                    <div class="flex gap-3 max-w-4xl mx-auto">
                        <button 
                            id="mic-btn" 
                            onclick="window.speechManager?.toggleListening()" 
                            class="bg-slate-700 hover:bg-slate-600 px-4 py-3 rounded-xl font-semibold transition"
                            title="Click to speak (Speech-to-text)"
                        >
                            üé§
                        </button>
                        <input 
                            type="file" 
                            id="file-input" 
                            class="hidden" 
                            onchange="handleFileSelect(event)"
                            accept=".pdf,.doc,.docx,.txt,.md,.csv,.xlsx,.xls,.png,.jpg,.jpeg,.gif,.webp"
                        >
                        <button 
                            onclick="document.getElementById('file-input').click()" 
                            class="bg-slate-700 hover:bg-slate-600 px-4 py-3 rounded-xl font-semibold transition"
                            title="Upload document or image"
                        >
                            üìé
                        </button>
                        <input
                            type="text"
                            id="chat-input"
                            placeholder="Type, attach file, or click mic to speak..."
                            class="flex-1 bg-slate-800 rounded-xl px-5 py-3 focus:outline-none focus:ring-2 focus:ring-primary border border-slate-600"
                            onkeypress="handleChatKeypress(event)"
                        >
                        <button onclick="sendMessage()" id="send-btn" class="bg-primary hover:bg-primary-hover px-6 py-3 rounded-xl font-semibold transition disabled:opacity-50">
                            Send
                        </button>
                    </div>
                </div>
            </div>

            <!-- Projects View -->
            <div id="projects-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üìä</span> Projects
                    </h2>
                    <div class="flex items-center gap-2">
                        <button onclick="showNewProjectModal()" class="bg-primary hover:bg-primary-hover px-4 py-2 rounded-lg text-sm font-semibold transition">
                            + New Project
                        </button>
                        <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                            ‚Üê Back
                        </button>
                    </div>
                </div>
                <div class="flex-1 overflow-x-auto p-4">
                    <div class="flex gap-4 h-full min-w-max">
                        <div class="w-72 flex flex-col">
                            <h3 class="font-semibold mb-3 text-slate-400 flex items-center gap-2">
                                <span class="w-3 h-3 bg-slate-500 rounded-full"></span>
                                Backlog
                                <span id="backlog-count" class="text-xs bg-slate-700 px-2 py-0.5 rounded-full ml-auto">0</span>
                            </h3>
                            <div id="backlog-column" class="flex-1 space-y-2 min-h-[200px] bg-slate-800/50 rounded-xl p-3 border-2 border-dashed border-slate-700"></div>
                        </div>
                        <div class="w-72 flex flex-col">
                            <h3 class="font-semibold mb-3 text-blue-400 flex items-center gap-2">
                                <span class="w-3 h-3 bg-blue-500 rounded-full animate-pulse"></span>
                                In Progress
                                <span id="in_progress-count" class="text-xs bg-slate-700 px-2 py-0.5 rounded-full ml-auto">0</span>
                            </h3>
                            <div id="in_progress-column" class="flex-1 space-y-2 min-h-[200px] bg-slate-800/50 rounded-xl p-3 border-2 border-dashed border-blue-900/50"></div>
                        </div>
                        <div class="w-72 flex flex-col">
                            <h3 class="font-semibold mb-3 text-orange-400 flex items-center gap-2">
                                <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                                Blocked
                                <span id="blocked-count" class="text-xs bg-slate-700 px-2 py-0.5 rounded-full ml-auto">0</span>
                            </h3>
                            <div id="blocked-column" class="flex-1 space-y-2 min-h-[200px] bg-slate-800/50 rounded-xl p-3 border-2 border-dashed border-orange-900/50"></div>
                        </div>
                        <div class="w-72 flex flex-col">
                            <h3 class="font-semibold mb-3 text-green-400 flex items-center gap-2">
                                <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                                Done
                                <span id="done-count" class="text-xs bg-slate-700 px-2 py-0.5 rounded-full ml-auto">0</span>
                            </h3>
                            <div id="done-column" class="flex-1 space-y-2 min-h-[200px] bg-slate-800/50 rounded-xl p-3 border-2 border-dashed border-green-900/50"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tasks View -->
            <div id="tasks-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>‚úÖ</span> Tasks
                    </h2>
                    <div class="flex items-center gap-2">
                        <button onclick="showNewTaskModal()" class="bg-primary hover:bg-primary-hover px-4 py-2 rounded-lg text-sm font-semibold transition">
                            + New Task
                        </button>
                        <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                            ‚Üê Back
                        </button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto p-4">
                    <div class="max-w-2xl mx-auto">
                        <div id="tasks-pending" class="space-y-2 mb-6"></div>
                        <div id="tasks-completed-section" class="hidden">
                            <h3 class="text-sm text-slate-400 mb-3 flex items-center gap-2">
                                <span>Completed</span>
                                <span id="completed-count" class="text-xs bg-slate-700 px-2 py-0.5 rounded-full">0</span>
                            </h3>
                            <div id="tasks-completed" class="space-y-2 opacity-60"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gmail View -->
            <div id="gmail-view" class="view flex-1 flex flex-col overflow-y-auto hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üìß</span> Gmail Triage
                    </h2>
                    <div class="flex items-center gap-2">
                        <span id="gmail-last-check" class="text-xs text-slate-400 mr-3"></span>
                        <button onclick="checkGmailNow()" id="gmail-check-btn" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition text-sm font-semibold">
                            üîÑ Check Now
                        </button>
                        <button onclick="showView('settings')" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition text-sm">
                            ‚öôÔ∏è Settings
                        </button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto p-6">
                    <!-- Stats Grid -->
                    <div class="grid grid-cols-4 gap-4 mb-6">
                        <div class="bg-slate-800 rounded-lg p-4 border border-slate-700">
                            <div class="text-3xl font-bold text-blue-400" id="gmail-total">-</div>
                            <div class="text-sm text-slate-400 mt-1">Total Unread</div>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4 border border-slate-700">
                            <div class="text-3xl font-bold text-red-400" id="gmail-high">-</div>
                            <div class="text-sm text-slate-400 mt-1">High Priority</div>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4 border border-slate-700">
                            <div class="text-3xl font-bold text-yellow-400" id="gmail-medium">-</div>
                            <div class="text-sm text-slate-400 mt-1">Medium Priority</div>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4 border border-slate-700">
                            <div class="text-3xl font-bold text-slate-400" id="gmail-low">-</div>
                            <div class="text-sm text-slate-400 mt-1">Low Priority</div>
                        </div>
                    </div>

                    <!-- Smart Filters -->
                    <div class="flex gap-2 mb-4">
                        <button id="filter-all" onclick="setGmailFilter('all')" 
                                class="filter-btn active px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition text-sm font-semibold">
                            üì¨ All
                        </button>
                        <button id="filter-high" onclick="setGmailFilter('high')" 
                                class="filter-btn px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition text-sm font-semibold">
                            üî¥ High Priority
                        </button>
                        <button id="filter-medium" onclick="setGmailFilter('medium')" 
                                class="filter-btn px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition text-sm font-semibold">
                            üü° Medium Priority
                        </button>
                        <button id="filter-low" onclick="setGmailFilter('low')" 
                                class="filter-btn px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition text-sm font-semibold">
                            üîµ Low Priority
                        </button>
                    </div>

                    <!-- Emails List -->
                    <div id="gmail-high-priority" class="bg-slate-800 rounded-lg p-6 border border-slate-700">
                        <div id="gmail-emails-list">
                            <div class="text-center text-slate-400 py-8">
                                Click Refresh to load emails
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Memory View -->
            <div id="memory-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üß†</span> Memory Hub
                    </h2>
                    <div class="flex items-center gap-2">
                        <button onclick="showQuickNoteModal()" class="bg-primary hover:bg-primary-hover px-4 py-2 rounded-lg text-sm font-semibold transition">
                            + Quick Note
                        </button>
                        <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                            ‚Üê Back
                        </button>
                    </div>
                </div>
                <div class="flex-1 flex overflow-hidden">
                    <!-- Memory Sidebar -->
                    <div class="w-72 border-r border-slate-700 flex flex-col bg-slate-800/30">
                        <div class="p-3">
                            <div class="relative">
                                <input type="text" id="memory-search" placeholder="Search memory..."
                                    class="w-full bg-slate-800 rounded-lg px-4 py-2 pl-10 text-sm border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary"
                                    onkeypress="if(event.key==='Enter')searchMemory()">
                                <span class="absolute left-3 top-2.5 text-slate-400">üîç</span>
                            </div>
                        </div>
                        <div class="p-3 text-xs text-slate-400 border-b border-slate-700">
                            <span id="memory-path-display">/</span>
                        </div>
                        <div id="memory-file-list" class="flex-1 overflow-y-auto p-2">
                            <div class="text-slate-500 text-sm p-2">Loading...</div>
                        </div>
                    </div>
                    <!-- Memory Content -->
                    <div class="flex-1 flex flex-col">
                        <div id="memory-content-area" class="flex-1 overflow-y-auto p-4">
                            <div class="text-center text-slate-500 py-12">
                                <div class="text-4xl mb-4">üß†</div>
                                <p>Select a file to view its contents</p>
                                <p class="text-sm mt-2">Or search for memories above</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sessions View -->
            <div id="sessions-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>‚ö°</span> Sessions
                    </h2>
                    <div class="flex items-center gap-2">
                        <button onclick="refreshSessions()" class="text-sm text-slate-400 hover:text-white px-3 py-2 rounded-lg hover:bg-slate-700 transition">
                            üîÑ Refresh
                        </button>
                        <button onclick="showSpawnSessionModal()" class="bg-primary hover:bg-primary-hover px-4 py-2 rounded-lg text-sm font-semibold transition">
                            + Spawn Agent
                        </button>
                        <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                            ‚Üê Back
                        </button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto p-4">
                    <div class="max-w-4xl mx-auto">
                        <div id="sessions-list" class="space-y-3">
                            <div class="text-slate-500 text-center py-8">Loading sessions...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Files View -->
            <div id="files-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üìÅ</span> File Browser
                    </h2>
                    <div class="flex items-center gap-2">
                        <button onclick="createNewFile()" class="text-sm text-slate-400 hover:text-white px-3 py-2 rounded-lg hover:bg-slate-700 transition">
                            üìÑ New File
                        </button>
                        <button onclick="createNewFolder()" class="text-sm text-slate-400 hover:text-white px-3 py-2 rounded-lg hover:bg-slate-700 transition">
                            üìÅ New Folder
                        </button>
                        <button onclick="triggerFileUpload()" class="text-sm text-primary hover:text-blue-300 px-3 py-2 rounded-lg hover:bg-slate-700 transition font-semibold">
                            ‚¨ÜÔ∏è Upload Files
                        </button>
                        <input type="file" id="file-upload-input" multiple style="display: none;" onchange="handleFileUpload(event)">
                        <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                            ‚Üê Back to Chat
                        </button>
                    </div>
                </div>
                <div class="flex-1 flex overflow-hidden">
                    <!-- File Tree -->
                    <div class="w-72 border-r border-slate-700 flex flex-col bg-slate-800/30">
                        <div class="p-3">
                            <div class="relative">
                                <input type="text" id="file-search" placeholder="Search files..."
                                    class="w-full bg-slate-800 rounded-lg px-4 py-2 pl-10 text-sm border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary"
                                    onkeypress="if(event.key==='Enter')searchFiles()">
                                <span class="absolute left-3 top-2.5 text-slate-400">üîç</span>
                            </div>
                        </div>
                        <div class="p-3 border-b border-slate-700 flex items-center gap-2">
                            <button onclick="navigateUp()" class="text-slate-400 hover:text-white p-1" title="Go up">
                                ‚¨ÜÔ∏è
                            </button>
                            <span id="file-path-display" class="text-xs text-slate-400 truncate flex-1">/</span>
                        </div>
                        <div id="file-list" class="flex-1 overflow-y-auto p-2">
                            <div class="text-slate-500 text-sm p-2">Loading...</div>
                        </div>
                    </div>
                    <!-- File Content -->
                    <div class="flex-1 flex flex-col">
                        <div id="file-content-area" class="flex-1 overflow-y-auto p-4">
                            <div class="text-center text-slate-500 py-12">
                                <div class="text-4xl mb-4">üìÅ</div>
                                <p>Select a file to view its contents</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Items View -->
            <div id="action-items-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 bg-slate-800/50">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold flex items-center gap-2">
                            <span>‚úÖ</span> <span id="action-items-dept-name">Action Items</span>
                        </h2>
                        <div class="flex gap-2">
                            <button onclick="resetActionItems()" 
                                class="px-3 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg transition text-sm"
                                title="Reload action items from defaults (discards changes)">
                                üîÑ Reset
                            </button>
                            <button onclick="showNewActionItem()" 
                                class="px-4 py-2 bg-primary hover:bg-primary-hover rounded-lg transition font-semibold">
                                ‚ûï New Item
                            </button>
                        </div>
                    </div>
                    
                    <!-- Department Tabs -->
                    <div class="flex gap-2 overflow-x-auto pb-2">
                        <button class="dept-tab active" data-dept="strategic" onclick="switchDepartment('strategic')">
                            üìä Strategic Planning
                        </button>
                        <button class="dept-tab" data-dept="marketing" onclick="switchDepartment('marketing')">
                            üì¢ Branding & Marketing
                        </button>
                        <button class="dept-tab" data-dept="security" onclick="switchDepartment('security')">
                            üîí Security & Deployment
                        </button>
                        <button class="dept-tab" data-dept="finance" onclick="switchDepartment('finance')">
                            üí∞ Finance & Accounting
                        </button>
                        <button class="dept-tab" data-dept="product" onclick="switchDepartment('product')">
                            üöÄ Product Development
                        </button>
                        <button class="dept-tab" data-dept="operations" onclick="switchDepartment('operations')">
                            ‚öôÔ∏è Operations
                        </button>
                        <button class="dept-tab" data-dept="sales" onclick="switchDepartment('sales')">
                            üìà Sales & Growth
                        </button>
                        <button class="dept-tab" data-dept="support" onclick="switchDepartment('support')">
                            üéß Customer Support
                        </button>
                    </div>
                </div>

                <!-- Kanban Board -->
                <div class="flex-1 overflow-x-auto p-4">
                    <div class="flex gap-4 h-full" style="min-width: 1200px;">
                        <!-- URGENT Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-red-600/20 to-red-600/10 rounded-t-xl px-4 py-3 border-b-2 border-red-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üî¥</span>
                                        <span class="font-semibold">URGENT</span>
                                    </div>
                                    <span id="items-urgent-count" class="px-2 py-1 bg-red-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="items-urgent-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- THIS WEEK Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-amber-500/20 to-amber-500/10 rounded-t-xl px-4 py-3 border-b-2 border-amber-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üü°</span>
                                        <span class="font-semibold">THIS WEEK</span>
                                    </div>
                                    <span id="items-this-week-count" class="px-2 py-1 bg-amber-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="items-this-week-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- THIS MONTH Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-green-500/20 to-green-500/10 rounded-t-xl px-4 py-3 border-b-2 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üü¢</span>
                                        <span class="font-semibold">THIS MONTH</span>
                                    </div>
                                    <span id="items-this-month-count" class="px-2 py-1 bg-green-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="items-this-month-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- FUTURE Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-blue-500/20 to-blue-500/10 rounded-t-xl px-4 py-3 border-b-2 border-blue-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üîµ</span>
                                        <span class="font-semibold">FUTURE</span>
                                    </div>
                                    <span id="items-future-count" class="px-2 py-1 bg-blue-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="items-future-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- COMPLETED Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-emerald-500/20 to-emerald-500/10 rounded-t-xl px-4 py-3 border-b-2 border-emerald-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">‚úÖ</span>
                                        <span class="font-semibold">COMPLETED</span>
                                    </div>
                                    <span id="items-completed-count" class="px-2 py-1 bg-emerald-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="items-completed-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projects View -->
            <div id="saas-apps-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 bg-slate-800/50">
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <h2 class="text-xl font-bold flex items-center gap-2">
                                <span>üöÄ</span> <span id="projects-name">SaaS Apps</span>
                            </h2>
                            <p id="projects-description" class="text-sm text-slate-400 mt-1"></p>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="resetProjectItems()" 
                                class="px-3 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg transition text-sm"
                                title="Reload project items from defaults (discards changes)">
                                üîÑ Reset
                            </button>
                            <button onclick="showNewProjectItem()" 
                                class="px-4 py-2 bg-primary hover:bg-primary-hover rounded-lg transition font-semibold">
                                ‚ûï New Item
                            </button>
                        </div>
                    </div>
                    
                    <!-- Project Tabs -->
                    <div class="flex gap-2 overflow-x-auto pb-2">
                        <button class="project-tab active" data-project="enzuto" onclick="switchProject('enzuto')">
                            üè¶ Enzuto
                        </button>
                        <button class="project-tab" data-project="digital-twin" onclick="switchProject('digital-twin')">
                            üè≠ Digital Twin
                        </button>
                        <button class="project-tab" data-project="video-analyzer" onclick="switchProject('video-analyzer')">
                            üé• Video Analyzer
                        </button>
                        <button class="project-tab" data-project="a3" onclick="switchProject('a3')">
                            üìù A3
                        </button>
                        <button class="project-tab" data-project="cshare" onclick="switchProject('cshare')">
                            üìä CShare
                        </button>
                        <button class="project-tab" data-project="cmaintenance" onclick="switchProject('cmaintenance')">
                            üîß CMaintenance
                        </button>
                        <button class="project-tab" data-project="cdh" onclick="switchProject('cdh')">
                            üíæ CDH
                        </button>
                        <button class="project-tab" data-project="lms" onclick="switchProject('lms')">
                            üìö LMS
                        </button>
                        <button class="project-tab" data-project="leonardo" onclick="switchProject('leonardo')">
                            üéØ Leonardo
                        </button>
                    </div>
                </div>

                <!-- Kanban Board -->
                <div class="flex-1 overflow-x-auto p-4">
                    <div class="flex gap-4 h-full" style="min-width: 1200px;">
                        <!-- URGENT Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-red-600/20 to-red-600/10 rounded-t-xl px-4 py-3 border-b-2 border-red-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üî¥</span>
                                        <span class="font-semibold">URGENT</span>
                                    </div>
                                    <span id="project-items-urgent-count" class="px-2 py-1 bg-red-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="project-items-urgent-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- THIS WEEK Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-amber-500/20 to-amber-500/10 rounded-t-xl px-4 py-3 border-b-2 border-amber-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üü°</span>
                                        <span class="font-semibold">THIS WEEK</span>
                                    </div>
                                    <span id="project-items-this-week-count" class="px-2 py-1 bg-amber-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="project-items-this-week-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- THIS MONTH Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-green-600/20 to-green-600/10 rounded-t-xl px-4 py-3 border-b-2 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üü¢</span>
                                        <span class="font-semibold">THIS MONTH</span>
                                    </div>
                                    <span id="project-items-this-month-count" class="px-2 py-1 bg-green-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="project-items-this-month-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- FUTURE Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-blue-600/20 to-blue-600/10 rounded-t-xl px-4 py-3 border-b-2 border-blue-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">üîµ</span>
                                        <span class="font-semibold">FUTURE</span>
                                    </div>
                                    <span id="project-items-future-count" class="px-2 py-1 bg-blue-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="project-items-future-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>

                        <!-- COMPLETED Column -->
                        <div class="flex-1 min-w-0">
                            <div class="bg-gradient-to-br from-emerald-600/20 to-emerald-600/10 rounded-t-xl px-4 py-3 border-b-2 border-emerald-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <span class="text-lg">‚úÖ</span>
                                        <span class="font-semibold">COMPLETED</span>
                                    </div>
                                    <span id="project-items-completed-count" class="px-2 py-1 bg-emerald-600/30 rounded-full text-xs">0</span>
                                </div>
                            </div>
                            <div id="project-items-completed-column" class="bg-slate-800/30 rounded-b-xl p-3 space-y-2 min-h-[400px]"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>‚öôÔ∏è</span> Settings
                    </h2>
                    <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                        ‚Üê Back
                    </button>
                </div>

                <div class="flex-1 overflow-y-auto p-6">
                    <div class="max-w-2xl mx-auto space-y-6">
                        
                        <!-- Appearance -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                                <span>üé®</span> Appearance
                            </h3>
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium">Theme</div>
                                    <div class="text-sm text-slate-400">Switch between light and dark mode</div>
                                </div>
                                <button onclick="toggleTheme()" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition flex items-center gap-2">
                                    <span id="theme-icon-settings">üåô</span>
                                    <span id="theme-text-settings">Dark Mode</span>
                                </button>
                            </div>
                        </div>

                        <!-- Advanced Tools -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                                <span>üîß</span> Advanced Tools
                            </h3>
                            <div class="space-y-3">
                                <button onclick="showView('memory')" class="w-full text-left px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <span>üß†</span>
                                        <div>
                                            <div class="font-medium">Memory Files</div>
                                            <div class="text-sm text-slate-400">View and manage memory files</div>
                                        </div>
                                    </div>
                                    <span class="text-slate-400">‚Üí</span>
                                </button>
                                <button onclick="showView('sessions')" class="w-full text-left px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <span>‚ö°</span>
                                        <div>
                                            <div class="font-medium">Sessions</div>
                                            <div class="text-sm text-slate-400">View active Clawdbot sessions</div>
                                        </div>
                                    </div>
                                    <span class="text-slate-400">‚Üí</span>
                                </button>
                                <button onclick="showView('monitoring')" class="w-full text-left px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <span>üìä</span>
                                        <div>
                                            <div class="font-medium">System Monitoring</div>
                                            <div class="text-sm text-slate-400">View system stats and logs</div>
                                        </div>
                                    </div>
                                    <span class="text-slate-400">‚Üí</span>
                                </button>
                            </div>
                        </div>

                        <!-- Gmail Settings -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                                <span>üìß</span> Gmail Alerts
                            </h3>

                            <!-- Notifications -->
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <label class="font-medium">WhatsApp Notifications</label>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="whatsapp-enabled" class="sr-only peer">
                                        <div class="w-11 h-6 bg-slate-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="font-medium">SMS Notifications</label>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="sms-enabled" class="sr-only peer">
                                        <div class="w-11 h-6 bg-slate-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                            </div>

                            <!-- Priority Alerts -->
                            <div class="mt-6 pt-6 border-t border-slate-700">
                                <h4 class="font-semibold mb-3">Alert Priorities</h4>
                                <div class="space-y-3">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="alert-high" class="w-4 h-4 rounded border-slate-600 text-primary focus:ring-primary">
                                        <span>üî¥ High Priority</span>
                                    </label>
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="alert-medium" class="w-4 h-4 rounded border-slate-600 text-primary focus:ring-primary">
                                        <span>üü° Medium Priority</span>
                                    </label>
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="alert-low" class="w-4 h-4 rounded border-slate-600 text-primary focus:ring-primary">
                                        <span>üü¢ Low Priority</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Check Interval -->
                            <div class="mt-6 pt-6 border-t border-slate-700">
                                <label class="block font-semibold mb-2">Check Interval (minutes)</label>
                                <input type="number" id="check-interval" min="5" max="1440" 
                                    class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>

                            <!-- Quiet Hours -->
                            <div class="mt-6 pt-6 border-t border-slate-700">
                                <h4 class="font-semibold mb-3">Quiet Hours</h4>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm mb-1">Start</label>
                                        <input type="time" id="quiet-start" 
                                            class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                                    </div>
                                    <div>
                                        <label class="block text-sm mb-1">End</label>
                                        <input type="time" id="quiet-end" 
                                            class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                                    </div>
                                </div>
                            </div>

                            <!-- Save Button -->
                            <div class="mt-6">
                                <button onclick="saveSettings()" class="w-full bg-primary hover:bg-primary-hover px-6 py-3 rounded-lg font-semibold transition">
                                    üíæ Save Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Monitoring View -->
            <div id="monitoring-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üìä</span> System Monitoring
                    </h2>
                    <button onclick="refreshMonitoring()" class="text-sm text-slate-400 hover:text-white px-3 py-2 rounded-lg hover:bg-slate-700 transition">
                        üîÑ Refresh
                    </button>
                </div>
                <div class="flex-1 overflow-y-auto p-6">
                    <div class="max-w-6xl mx-auto space-y-6">
                        
                        <!-- Overall Health Status -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span id="health-icon">üíö</span> System Health
                            </h3>
                            <div id="health-status" class="text-slate-400">Loading...</div>
                        </div>

                        <!-- Services Status -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4">üîå Services</h3>
                            <div id="services-status" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="text-slate-400">Loading...</div>
                            </div>
                        </div>

                        <!-- PM2 Process Info -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4">‚öôÔ∏è Server Process</h3>
                            <div id="pm2-status" class="space-y-3">
                                <div class="text-slate-400">Loading...</div>
                            </div>
                        </div>

                        <!-- System Stats -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4">üíª System Resources</h3>
                            <div id="system-stats" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="text-slate-400">Loading...</div>
                            </div>
                        </div>

                        <!-- Recent Logs -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4">üìù Recent Logs</h3>
                            <div id="recent-logs" class="bg-slate-900 rounded-lg p-4 font-mono text-xs max-h-96 overflow-y-auto">
                                <div class="text-slate-400">Loading...</div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Video Analyzer View -->
            <div id="video-analyzer-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üìπ</span> Video Knowledge Extractor
                    </h2>
                    <button onclick="showView('chat')" class="text-sm bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition font-semibold">
                        ‚Üê Back to Chat
                    </button>
                </div>
                
                <!-- Tab Navigation -->
                <div class="border-b border-slate-700 bg-slate-800/30">
                    <nav class="flex gap-1 p-2">
                        <button onclick="showVideoTab('analyze')" id="video-tab-analyze" class="video-tab px-6 py-2.5 rounded-lg font-semibold transition active">
                            üé¨ Analyze Video
                        </button>
                        <button onclick="showVideoTab('repository')" id="video-tab-repository" class="video-tab px-6 py-2.5 rounded-lg font-semibold transition">
                            üìö Video Repository
                        </button>
                    </nav>
                </div>
                
                <!-- Tab: Analyze Video -->
                <div id="video-tab-analyze-content" class="video-tab-content flex-1 overflow-y-auto p-6">
                    <div class="max-w-4xl mx-auto space-y-6">
                        
                        <!-- API Key Setup -->
                        <div id="video-analyzer-setup" class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üîë</span> Setup Required
                            </h3>
                            <p class="text-slate-400 mb-4">
                                Video analysis requires an Anthropic API key. Get one from 
                                <a href="https://console.anthropic.com/settings/keys" target="_blank" class="text-blue-400 hover:text-blue-300 underline">console.anthropic.com/settings/keys</a>
                            </p>
                            <div class="flex gap-2">
                                <input 
                                    type="password" 
                                    id="anthropic-api-key-input" 
                                    placeholder="sk-ant-api03-..." 
                                    class="flex-1 bg-slate-900 text-white px-4 py-2 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none"
                                />
                                <button 
                                    id="save-api-key-btn"
                                    class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition"
                                >
                                    Save Key
                                </button>
                            </div>
                            <p class="text-xs text-slate-500 mt-2">
                                Your API key is stored locally in your browser and never sent to our servers.
                            </p>
                        </div>

                        <!-- Main Analyzer -->
                        <div id="video-analyzer-main" class="space-y-6">
                            
                            <!-- Analyze Video Card -->
                            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                                <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                    <span>üé¨</span> Analyze YouTube Video
                                </h3>
                                <p class="text-slate-400 mb-4">
                                    Extract comprehensive insights from any YouTube video: summary, key concepts, 
                                    product opportunities, and ready-to-use prompts.
                                </p>
                                <div class="flex gap-2">
                                    <input 
                                        type="url" 
                                        id="video-url-input" 
                                        placeholder="https://www.youtube.com/watch?v=..." 
                                        class="flex-1 bg-slate-900 text-white px-4 py-3 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none"
                                    />
                                    <button 
                                        id="analyze-video-btn"
                                        class="bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-lg font-semibold transition"
                                    >
                                        Analyze Video
                                    </button>
                                </div>
                                
                                <!-- Progress Indicator -->
                                <div id="analysis-progress" class="mt-4 space-y-2" style="display: none;">
                                    <div class="flex justify-between text-sm">
                                        <span id="analysis-status" class="text-slate-400">Starting...</span>
                                        <span id="analysis-progress-percent" class="text-blue-400 font-semibold">0%</span>
                                    </div>
                                    <div class="h-2 bg-slate-900 rounded-full overflow-hidden">
                                        <div id="analysis-progress-bar" class="h-full bg-blue-600 transition-all duration-300" style="width: 0%"></div>
                                    </div>
                                </div>

                                <!-- Info -->
                                <div class="mt-4 bg-slate-900 rounded-lg p-4 text-sm text-slate-400">
                                    <p class="mb-2"><strong class="text-white">What you'll get:</strong></p>
                                    <ul class="list-disc list-inside space-y-1 ml-2">
                                        <li>üìÑ Summary - Executive overview + detailed breakdown</li>
                                        <li>üß† Key Concepts - Concepts and frameworks explained</li>
                                        <li>üí° Ezbelta Insights - Product development opportunities</li>
                                        <li>üõ†Ô∏è Prompts & Examples - Ready-to-use templates and code</li>
                                        <li>üìö README - Navigation guide and quick reference</li>
                                    </ul>
                                    <p class="mt-3 text-xs text-slate-500">
                                        <strong>Cost:</strong> ~$0.50-1.00 per video using Haiku model (fast & efficient)
                                    </p>
                                </div>
                            </div>

                            <!-- Recent Analyses -->
                            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                                <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                    <span>üìö</span> Recent Analyses
                                </h3>
                                <div id="recent-analyses-list" class="space-y-2">
                                    <div class="text-slate-400">Loading...</div>
                                </div>
                            </div>

                            <!-- Quick Instructions -->
                            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                                <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                    <span>üìñ</span> How It Works
                                </h3>
                                <div class="space-y-3 text-slate-400">
                                    <p>1. <strong class="text-white">Paste a YouTube URL</strong> from any video with English captions</p>
                                    <p>2. <strong class="text-white">Click "Analyze Video"</strong> - the tool will:</p>
                                    <ul class="list-disc list-inside ml-6 space-y-1 text-sm">
                                        <li>Download video metadata and transcript</li>
                                        <li>Run AI analysis using Claude (5 specialized prompts)</li>
                                        <li>Generate structured documentation</li>
                                        <li>Save everything to your knowledge base</li>
                                    </ul>
                                    <p>3. <strong class="text-white">View results</strong> in the Files browser under <code class="bg-slate-900 px-2 py-1 rounded">memory/lean-expertise/videos/</code></p>
                                    <p class="text-sm text-slate-500 mt-4">
                                        <strong>Tip:</strong> Analysis takes 2-5 minutes per video. You can analyze multiple videos in sequence.
                                    </p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                
                <!-- Tab: Video Repository -->
                <div id="video-tab-repository-content" class="video-tab-content flex-1 overflow-y-auto p-6" style="display: none;">
                    <div class="max-w-7xl mx-auto space-y-6">
                        
                        <!-- Header & Sync -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                                        <span>üìö</span> Video Repository
                                    </h3>
                                    <p class="text-slate-400 text-sm">
                                        Manage and batch-process videos from your YouTube channel
                                    </p>
                                </div>
                                <button id="sync-channel-btn" class="bg-blue-600 hover:bg-blue-700 px-6 py-2.5 rounded-lg font-semibold transition flex items-center gap-2">
                                    <span>üîÑ</span> Sync Channel
                                </button>
                            </div>
                            
                            <!-- Sync Output -->
                            <pre id="sync-output" class="bg-slate-900 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto max-h-60" style="display: none;"></pre>
                        </div>
                        
                        <!-- Statistics -->
                        <div id="repo-stats" class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üìä</span> Statistics
                            </h3>
                            <div class="text-slate-400">Loading...</div>
                        </div>
                        
                        <!-- Filters & Actions -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üîç</span> Filter & Manage
                            </h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-2">Status</label>
                                    <select id="repo-status-filter" class="w-full bg-slate-900 text-white px-4 py-2 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none">
                                        <option value="all">All</option>
                                        <option value="pending">‚è≥ Pending</option>
                                        <option value="processed">‚úÖ Processed</option>
                                        <option value="skipped">‚è≠Ô∏è Skipped</option>
                                        <option value="error">‚ùå Error</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-2">Priority</label>
                                    <select id="repo-priority-filter" class="w-full bg-slate-900 text-white px-4 py-2 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none">
                                        <option value="all">All</option>
                                        <option value="high">üî¥ High</option>
                                        <option value="normal">‚ö™ Normal</option>
                                        <option value="low">üîµ Low</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-2">Search</label>
                                    <input id="repo-search" type="text" placeholder="Search titles..." 
                                           class="w-full bg-slate-900 text-white px-4 py-2 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none">
                                </div>
                            </div>
                            
                            <!-- Batch Actions -->
                            <div class="flex flex-wrap gap-2">
                                <button id="select-all-btn" class="bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg text-sm font-semibold transition">
                                    Select All
                                </button>
                                <button id="deselect-all-btn" class="bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg text-sm font-semibold transition">
                                    Deselect All
                                </button>
                                <button id="batch-skip-btn" class="bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg text-sm font-semibold transition">
                                    ‚è≠Ô∏è Skip Selected
                                </button>
                                <button id="batch-process-btn" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm font-semibold transition">
                                    üöÄ Batch Process Selected
                                </button>
                            </div>
                        </div>
                        
                        <!-- Video List -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üé¨</span> Videos
                            </h3>
                            <div id="repo-video-list">
                                <div class="text-slate-400">Loading...</div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
            </div>

            <!-- Webinars View -->
            <div id="webinars-view" class="view flex-1 flex flex-col hidden">
                <div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/50">
                    <h2 class="text-xl font-bold flex items-center gap-2">
                        <span>üé§</span> Webinars Production
                    </h2>
                    <div class="flex gap-2">
                        <button id="create-webinar-btn" class="bg-primary hover:bg-primary-hover px-4 py-2 rounded-lg transition font-semibold flex items-center gap-2">
                            <span>‚ûï</span> New Webinar
                        </button>
                    </div>
                </div>

                <!-- Content -->
                <div class="flex-1 overflow-y-auto p-6">
                    <div class="max-w-7xl mx-auto space-y-6">
                        
                        <!-- Stats Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                                <div class="text-3xl mb-2">üìÖ</div>
                                <div class="text-2xl font-bold" id="webinar-upcoming-count">1</div>
                                <div class="text-slate-400 text-sm">Upcoming</div>
                            </div>
                            <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                                <div class="text-3xl mb-2">üü°</div>
                                <div class="text-2xl font-bold" id="webinar-production-count">1</div>
                                <div class="text-slate-400 text-sm">In Production</div>
                            </div>
                            <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                                <div class="text-3xl mb-2">‚úÖ</div>
                                <div class="text-2xl font-bold" id="webinar-completed-count">0</div>
                                <div class="text-slate-400 text-sm">Completed</div>
                            </div>
                            <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                                <div class="text-3xl mb-2">üìä</div>
                                <div class="text-2xl font-bold" id="webinar-total-registrations">100+</div>
                                <div class="text-slate-400 text-sm">Target Registrations</div>
                            </div>
                        </div>

                        <!-- Calendar View -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üìÖ</span> Upcoming Webinars
                            </h3>
                            <div id="webinar-calendar" class="space-y-3">
                                <!-- Calendar items will be injected here -->
                                <div class="flex items-center gap-4 p-4 bg-slate-900 rounded-lg border border-slate-700 hover:border-blue-500 transition cursor-pointer" onclick="loadWebinar('2026-02-11')">
                                    <div class="text-center min-w-[80px]">
                                        <div class="text-2xl font-bold">Feb 11</div>
                                        <div class="text-sm text-slate-400">10:00 AM MST</div>
                                    </div>
                                    <div class="flex-1">
                                        <div class="font-semibold text-lg">Ezbelta Suite Launch</div>
                                        <div class="text-slate-400 text-sm">Discover the Future of AI-Powered Manufacturing</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="bg-yellow-500/20 text-yellow-500 px-3 py-1 rounded-full text-sm font-semibold">
                                            In Production
                                        </div>
                                        <div class="text-sm text-slate-400 mt-1">6 days away</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Active Projects -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>üöÄ</span> Active Projects
                            </h3>
                            <div id="webinar-projects" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <!-- Project cards will be injected here -->
                            </div>
                        </div>

                        <!-- Quick Links -->
                        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span>‚ö°</span> Quick Actions
                            </h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <button class="bg-slate-900 hover:bg-slate-700 p-4 rounded-lg transition text-center">
                                    <div class="text-2xl mb-2">üìã</div>
                                    <div class="text-sm font-semibold">View Calendar</div>
                                </button>
                                <button class="bg-slate-900 hover:bg-slate-700 p-4 rounded-lg transition text-center">
                                    <div class="text-2xl mb-2">üìÅ</div>
                                    <div class="text-sm font-semibold">Asset Library</div>
                                </button>
                                <button class="bg-slate-900 hover:bg-slate-700 p-4 rounded-lg transition text-center">
                                    <div class="text-2xl mb-2">üìä</div>
                                    <div class="text-sm font-semibold">Analytics</div>
                                </button>
                                <button class="bg-slate-900 hover:bg-slate-700 p-4 rounded-lg transition text-center">
                                    <div class="text-2xl mb-2">üìù</div>
                                    <div class="text-sm font-semibold">Templates</div>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Batch Process Modal -->
    <div id="batch-process-modal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-slate-800 rounded-xl p-6 max-w-2xl w-full mx-4 border border-slate-700">
            <h3 class="text-xl font-semibold mb-4">Batch Processing Videos</h3>
            <div id="batch-progress" class="mb-4">
                <div class="mb-2">
                    <div class="h-3 bg-slate-900 rounded-full overflow-hidden">
                        <div id="batch-progress-bar" class="h-full bg-blue-600 transition-all duration-300" style="width: 0%"></div>
                    </div>
                </div>
                <p id="batch-progress-text" class="text-sm text-slate-400">Initializing...</p>
            </div>
            <pre id="batch-process-log" class="bg-slate-900 rounded-lg p-4 text-xs text-slate-300 overflow-y-auto max-h-96 mb-4"></pre>
            <button onclick="document.getElementById('batch-process-modal').style.display='none'" 
                    class="bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded-lg font-semibold transition">
                Close
            </button>
        </div>
    </div>

    <!-- Modal Container -->
    <div id="modal-container"></div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-50 space-y-2"></div>

    <script src="/js/auth.js"></script>
    <script src="/js/chat.js?v=1770317189"></script>
    <script src="/js/api-bridge.js"></script>
    <script src="/js/projects.js?v=1770317700"></script>
    <script src="/js/tasks.js"></script>
    <script src="/js/action-items.js?v=1770317700"></script>
    <script src="/js/speech.js"></script>
    <script src="/js/dashboard.js"></script>
    <script src="/js/memory.js"></script>
    <script src="/js/sessions.js"></script>
    <script src="/js/files.js"></script>
    <script src="/js/gmail.js"></script>
    <script src="/js/calendar.js"></script>
    <script src="/js/briefing.js"></script>
    <script src="/js/weather.js"></script>
    <script src="/js/quick-actions.js"></script>
    <script src="/js/settings.js"></script>
    <script src="/js/monitoring.js"></script>
    <script src="/js/video-analyzer.js"></script>
    <script src="/js/video-repository.js"></script>
    <script src="/js/webinars.js"></script>
    <script>
        // Video Analyzer Tab Switching
        function showVideoTab(tab) {
            // Hide all tab contents
            document.querySelectorAll('.video-tab-content').forEach(el => el.style.display = 'none');
            // Remove active class from all tabs
            document.querySelectorAll('.video-tab').forEach(el => el.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(`video-tab-${tab}-content`).style.display = 'block';
            // Add active class to selected tab
            document.getElementById(`video-tab-${tab}`).classList.add('active');
            
            // Initialize repository when tab is shown
            if (tab === 'repository' && window.VideoRepository && !VideoRepository.initialized) {
                console.log('[showVideoTab] Initializing VideoRepository...');
                VideoRepository.init();
            }
        }
    </script>
    <script src="/js/app.js?v=1770317700"></script>
</body>
</html>
